## Шаг 14. Определение пиковой производительности  



Наша функция написана для общего случая когда входное и выходное изображения находятся во внешней медленной (ddr) памяти, а обработка производится частями во внутренней.
Однако для небольших изображений <64kB возможна обработка целиком во внутренней памяти. Полученная при этом скорость будет соответствовать пиковой производительности 

Перепишем наш вызов , чтобы входные и выходные данные лежали в свободном pool3 внутренней памяти и подберем максимальный размер картинки, который уместился бы во внутренней памяти. 
Например lena224x240.bmp

В результате данной оптимизации мы имеем следующую скорость в пересчете на пиксель : 

2.58 clocks per pixel
![Рис.1](http://savepic.su/5804203.png)

Данная цифра показывает предельную производительность алгоритма Собеля в ~ 2.5 такта на пиксель на архитектуре процессоров семейства NeuroMatrix.






